/* ── 레이아웃 및 기본 스타일 ── */
*{box-sizing:border-box;}
html,body{height:100%;margin:0;padding:0;overflow:hidden;font-family:'Malgun Gothic','Apple SD Gothic Neo',sans-serif;font-size:13px;}
.wrap{display:flex;height:100vh;width:100vw;}

/* ── 지도 영역 ── */
.map-area{flex:1;position:relative;height:100%;}
#vmap,#ol3map{width:100%;height:100%;position:absolute;top:0;left:0;}
.map-ctrl{position:absolute;top:10px;left:10px;z-index:999;background:rgba(255,255,255,.92);border-radius:8px;padding:6px 10px;box-shadow:0 2px 8px rgba(0,0,0,.2);}
.map-ctrl select{border:none;background:transparent;font-weight:600;font-size:13px;cursor:pointer;outline:none;}

/* ── 사이드 패널 ── */
.side{width:360px;min-width:300px;display:flex;flex-direction:column;height:100%;border-left:2px solid #dde1f0;background:#f4f6fb;overflow:hidden;}

/* 헤더 & 검색 */
.hd{background:linear-gradient(135deg,#3a7bd5,#00d2ff);color:#fff;padding:16px 18px;flex-shrink:0;}
.hd h1{margin:0;font-size:17px;font-weight:700;}
.hd p{margin:4px 0 0;font-size:11px;opacity:.85;}
.search-row{display:flex;gap:6px;padding:12px;background:#fff;border-bottom:1px solid #e0e4f0;flex-shrink:0;position:relative;}
.search-row input{flex:1;padding:8px 10px;border:1px solid #c5cde0;border-radius:6px;font-size:13px;outline:none;}
.search-row button{padding:8px 14px;background:linear-gradient(135deg,#3a7bd5,#00d2ff);color:#fff;border:none;border-radius:6px;cursor:pointer;font-weight:600;}

/* 버튼 */
.btn-row{display:flex;gap:8px;padding:10px 12px;background:#fff;border-bottom:1px solid #e0e4f0;flex-shrink:0;}
.btn-row button{flex:1;padding:8px 4px;border:none;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600;color:#fff;}
.btn-export{background:linear-gradient(135deg,#11998e,#38ef7d);}
.btn-clear{background:linear-gradient(135deg,#f7971e,#ffd200);color:#333!important;}

/* 옵션/주제도 */
.opt-table{width:100%;padding:10px 12px;background:#fff;border-bottom:1px solid #e0e4f0;flex-shrink:0;}
.opt-table table{width:100%;}
.opt-table th{text-align:left;color:#555;}
.theme-panel{padding:10px 12px;background:#fff;border-bottom:1px solid #e0e4f0;flex-shrink:0;}
.theme-hd{display:flex;justify-content:space-between;align-items:center;}
.theme-hd-title{font-weight:700;}
.toggle-btn{padding:2px 8px;font-size:11px;background:#eee;border:1px solid #ccc;border-radius:4px;cursor:pointer;}
#themeList, #ecvamThemeList{display:none;padding-top:8px;}

/* 토지 목록 */
.land-list{flex:1;overflow-y:auto;padding:12px;background:#fff;}
.land-item{border:1px solid #ddd;border-radius:8px;padding:10px;margin-bottom:10px;background:#f9f9f9;}
.footer{padding:8px 12px;font-size:10px;color:#aaa;border-top:1px solid #e0e4f0;}

/* 상태 및 요약 */
.status-bar{padding:6px 12px;font-size:11px;display:none;font-weight:600;}
.status-bar.ok{background:#e8f5e9;color:#2e7d32;}
.status-bar.err{background:#ffebee;color:#c62828;}
.cnt-bar{padding:10px 12px;background:#fff;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;align-items:center;}
.cnt-badge{background:#3a7bd5;color:#fff;padding:2px 8px;border-radius:10px;}
.area-sum-bar{padding:8px 12px;background:#fff;border-bottom:1px solid #e0e4f0;display:flex;justify-content:space-between;align-items:center;}
.area-sum-val{font-weight:800;color:#3a7bd5;}

/* ECVAM 배지 */
.ecvam-badge{display:inline-block;padding:1px 6px;border-radius:4px;color:#fff;font-size:10px;margin-right:2px;}
.ecvam-gr1{background:#2e7d32;} .ecvam-gr2{background:#4caf50;} .ecvam-gr3{background:#ff9800;} .ecvam-gr5{background:#d32f2f;}

/* 모바일 전용 */
.sheet-pull{display:none;}
.mob-land-tbl-wrap{display:none;}

@media(max-width:768px){
    .side{width:100%;height:50vh;position:fixed;bottom:0;z-index:1000;box-shadow:0 -4px 16px rgba(0,0,0,0.15);transition:transform 0.3s ease;border-radius:16px 16px 0 0;border-left:none;}
    .side.sheet-collapsed{transform:translateY(calc(100% - 48px));}
    
    .hd,.footer,.land-item{display:none!important;}

    .sheet-pull{display:flex;align-items:center;padding:0 16px;height:48px;background:#fff;border-bottom:1px solid #eee;cursor:pointer;flex-shrink:0;}
    .sheet-pull-bar{width:40px;height:4px;background:#ddd;border-radius:2px;position:absolute;top:8px;left:50%;transform:translateX(-50%);}
    .sheet-pull-label{flex:1;font-weight:700;color:#333;font-size:13px;}

    /* 모바일 테이블 */
    .mob-land-tbl-wrap{display:block;width:100%;overflow-x:auto;background:#fff;}
    .mob-land-tbl{width:100%;border-collapse:collapse;font-size:11px;min-width:400px;}
    .mob-land-tbl th{background:#f0f3fb;padding:8px 4px;border-bottom:1px solid #dde1f0;}
    .mob-land-tbl td{padding:8px 4px;text-align:center;border-bottom:1px solid #eee;}
    .mob-del-btn{background:#ff5252;color:#fff;border:none;border-radius:4px;padding:2px 6px;}

    /* 순서 재배치: 테이블 -> 버튼 -> 검색 -> 주제도 */
    .sheet-pull{order:1;}
    .cnt-bar{order:2;}
    .area-sum-bar{order:3;}
    .land-list{order:4; flex:1; padding:8px;}
    .btn-row{order:5;}
    .search-row{order:6;}
    .opt-table{order:7;}
    .theme-panel{order:10; background:#f9f9f9;}
}
